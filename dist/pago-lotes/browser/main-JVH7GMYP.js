import{a as di,b as ve,c as hi}from"./chunk-HACSCDQ7.js";import{$a as si,C as Mt,F as Jn,H as Xn,J as Zn,K as se,La as ni,P as ei,Wa as ii,Xa as ri,Y as ti,Ya as Ke,ab as oi,cb as ai,db as li,fb as Ot,gb as ci,hb as Oe,ib as ui,jb as E,k as S,kb as j,m as Se,n as re,nb as fi,ob as kt,p as qe,tb as fe,ub as He,vb as ke,y as Yn}from"./chunk-FTJ6D2OV.js";import{a as P,b as X,c as Qn,h as b}from"./chunk-JTGFI4FN.js";var We=class n{constructor(e){this.msalService=e}title="pago-lotes";ngOnInit(){this.msalService.instance.handleRedirectPromise().then(e=>{e!==null&&e.account&&this.msalService.instance.setActiveAccount(e.account)})}static \u0275fac=function(t){return new(t||n)(Xn(Oe))};static \u0275cmp=Zn({type:n,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(t,i){t&1&&ti(0,"router-outlet")},dependencies:[li],encapsulation:2})};var us=[{path:"pago-lotes",loadChildren:()=>import("./chunk-744ATFZD.js").then(n=>n.PagoLotesModule)},{path:"",loadChildren:()=>import("./chunk-T5KO7RK4.js").then(n=>n.AuthModule)}],Ge=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[Ot.forRoot(us),Ot]})};function pi(n){return new S(3e3,!1)}function fs(){return new S(3100,!1)}function ds(){return new S(3101,!1)}function hs(n){return new S(3001,!1)}function ps(n){return new S(3003,!1)}function ms(n){return new S(3004,!1)}function gi(n,e){return new S(3005,!1)}function yi(){return new S(3006,!1)}function _i(){return new S(3007,!1)}function bi(n,e){return new S(3008,!1)}function Ei(n){return new S(3002,!1)}function wi(n,e,t,i,r){return new S(3010,!1)}function Si(){return new S(3011,!1)}function vi(){return new S(3012,!1)}function Ti(){return new S(3200,!1)}function Ai(){return new S(3202,!1)}function Ii(){return new S(3013,!1)}function Ci(n){return new S(3014,!1)}function Di(n){return new S(3015,!1)}function Pi(n){return new S(3016,!1)}function Ni(n,e){return new S(3404,!1)}function gs(n){return new S(3502,!1)}function Mi(n){return new S(3503,!1)}function Oi(){return new S(3300,!1)}function ki(n){return new S(3504,!1)}function Ri(n){return new S(3301,!1)}function Li(n,e){return new S(3302,!1)}function Fi(n){return new S(3303,!1)}function Bi(n,e){return new S(3400,!1)}function xi(n){return new S(3401,!1)}function $i(n){return new S(3402,!1)}function zi(n,e){return new S(3505,!1)}function Z(n){switch(n.length){case 0:return new fe;case 1:return n[0];default:return new He(n)}}function Bt(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),f=c==o,u=f&&a||new Map;l.forEach((h,g)=>{let p=g,_=h;if(g!=="offset")switch(p=n.normalizePropertyName(p,r),_){case ke:_=t.get(g);break;case j:_=i.get(g);break;default:_=n.normalizeStyleValue(g,p,_,r);break}u.set(p,_)}),f||s.push(u),a=u,o=c}),r.length)throw gs(r);return s}function Qe(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Rt(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Rt(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Rt(t,"destroy",n)));break}}function Rt(n,e,t){let i=t.totalTime,r=!!t.disabled,s=Ye(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function Ye(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function L(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function xt(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var ys=typeof document>"u"?null:document.documentElement;function Je(n){let e=n.parentNode||n.host||null;return e===ys?null:e}function _s(n){return n.substring(1,6)=="ebkit"}var de=null,mi=!1;function Vi(n){de||(de=bs()||{},mi=de.style?"WebkitAppearance"in de.style:!1);let e=!0;return de.style&&!_s(n)&&(e=n in de.style,!e&&mi&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in de.style)),e}function bs(){return typeof document<"u"?document.body:null}function $t(n,e){for(;e;){if(e===n)return!0;e=Je(e)}return!1}function zt(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var Es=1e3,Vt="{{",ws="}}",Ut="ng-enter",Xe="ng-leave",Re="ng-trigger",Le=".ng-trigger",jt="ng-animating",Ze=".ng-animating";function Y(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lt(parseFloat(e[1]),e[2])}function Lt(n,e){switch(e){case"s":return n*Es;default:return n}}function Fe(n,e,t){return n.hasOwnProperty("duration")?n:Ss(n,e,t)}function Ss(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(pi(n)),{duration:0,delay:0,easing:""};r=Lt(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Lt(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(fs()),a=!0),s<0&&(e.push(ds()),a=!0),a&&e.splice(l,0,pi(n))}return{duration:r,delay:s,easing:o}}function Ui(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function q(n,e,t){e.forEach((i,r)=>{let s=et(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function oe(n,e){e.forEach((t,i)=>{let r=et(i);n.style[r]=""})}function Ae(n){return Array.isArray(n)?n.length==1?n[0]:fi(n):n}function ji(n,e,t){let i=e.params||{},r=qt(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(hs(s))})}var Ft=new RegExp(`${Vt}\\s*(.+?)\\s*${ws}`,"g");function qt(n){let e=[];if(typeof n=="string"){let t;for(;t=Ft.exec(n);)e.push(t[1]);Ft.lastIndex=0}return e}function Ie(n,e,t){let i=`${n}`,r=i.replace(Ft,(s,o)=>{let a=e[o];return a==null&&(t.push(ps(o)),a=""),a.toString()});return r==i?n:r}var vs=/-+([a-z0-9])/g;function et(n){return n.replace(vs,(...e)=>e[1].toUpperCase())}function qi(n,e){return n===0||e===0}function Ki(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,tt(n,a)))}}return e}function F(n,e,t){switch(e.type){case E.Trigger:return n.visitTrigger(e,t);case E.State:return n.visitState(e,t);case E.Transition:return n.visitTransition(e,t);case E.Sequence:return n.visitSequence(e,t);case E.Group:return n.visitGroup(e,t);case E.Animate:return n.visitAnimate(e,t);case E.Keyframes:return n.visitKeyframes(e,t);case E.Style:return n.visitStyle(e,t);case E.Reference:return n.visitReference(e,t);case E.AnimateChild:return n.visitAnimateChild(e,t);case E.AnimateRef:return n.visitAnimateRef(e,t);case E.Query:return n.visitQuery(e,t);case E.Stagger:return n.visitStagger(e,t);default:throw ms(e.type)}}function tt(n,e){return window.getComputedStyle(n)[e]}var ln=(()=>{class n{validateStyleProperty(t){return Vi(t)}containsElement(t,i){return $t(t,i)}getParentElement(t){return Je(t)}query(t,i,r){return zt(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new fe(r,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),pe=class{static NOOP=new ln},me=class{};var Ts=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ot=class extends me{normalizePropertyName(e,t){return et(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(Ts.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(gi(e,i))}return o+s}};var at="*";function As(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Is(i,t,e)):t.push(n),t}function Is(n,e,t){if(n[0]==":"){let l=Cs(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(Di(n)),e;let r=i[1],s=i[2],o=i[3];e.push(Hi(r,o));let a=r==at&&o==at;s[0]=="<"&&!a&&e.push(Hi(o,r))}function Cs(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(Pi(n)),"* => *"}}var nt=new Set(["true","1"]),it=new Set(["false","0"]);function Hi(n,e){let t=nt.has(n)||it.has(n),i=nt.has(e)||it.has(e);return(r,s)=>{let o=n==at||n==r,a=e==at||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?nt.has(n):it.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?nt.has(e):it.has(e)),o&&a}}var nr=":self",Ds=new RegExp(`s*${nr}s*,?`,"g");function ir(n,e,t,i){return new Yt(n).build(e,t,i)}var Wi="",Yt=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new Jt(t);return this._resetContextStyleTimingState(r),F(this,Ae(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Wi,e.collectedStyles=new Map,e.collectedStyles.set(Wi,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(yi()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==E.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==E.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(_i())}),{type:E.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{qt(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(bi(e.name,[...s.values()]))}return{type:E.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=F(this,Ae(e.animation),t),r=As(e.expr,t.errors);return{type:E.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:he(e.options)}}visitSequence(e,t){return{type:E.Sequence,steps:e.steps.map(i=>F(this,i,t)),options:he(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=F(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:E.Group,steps:s,options:he(e.options)}}visitAnimate(e,t){let i=Os(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:kt({});if(s.type==E.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=kt(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:E.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===j?i.push(a):t.errors.push(Ei(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Vt)>=0){s=!0;break}}}),{type:E.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),f=c.get(l),u=!0;f&&(s!=r&&s>=f.startTime&&r<=f.endTime&&(t.errors.push(wi(l,f.startTime,f.endTime,s,r)),u=!1),s=f.startTime),u&&c.set(l,{startTime:s,endTime:r}),t.options&&ji(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:E.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Si()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,f=e.steps.map(I=>{let C=this._makeStyleAst(I,t),O=C.offset!=null?C.offset:Ms(C.styles),N=0;return O!=null&&(s++,N=C.offset=O),l=l||N<0||N>1,a=a||N<c,c=N,o.push(N),C});l&&t.errors.push(vi()),a&&t.errors.push(Ti());let u=e.steps.length,h=0;s>0&&s<u?t.errors.push(Ai()):s==0&&(h=r/(u-1));let g=u-1,p=t.currentTime,_=t.currentAnimateTimings,v=_.duration;return f.forEach((I,C)=>{let O=h>0?C==g?1:h*C:o[C],N=O*v;t.currentTime=p+_.delay+N,_.duration=N,this._validateStyleAst(I,t),I.offset=O,i.styles.push(I)}),i}visitReference(e,t){return{type:E.Reference,animation:F(this,Ae(e.animation),t),options:he(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:E.AnimateChild,options:he(e.options)}}visitAnimateRef(e,t){return{type:E.AnimateRef,animation:this.visitReference(e.animation,t),options:he(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Ps(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,L(t.collectedStyles,t.currentQuerySelector,new Map);let a=F(this,Ae(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:E.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:he(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Ii());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Fe(e.timings,t.errors,!0);return{type:E.Stagger,animation:F(this,Ae(e.animation),t),timings:i,options:null}}};function Ps(n){let e=!!n.split(/\s*,\s*/).find(t=>t==nr);return e&&(n=n.replace(Ds,"")),n=n.replace(/@\*/g,Le).replace(/@\w+/g,t=>Le+"-"+t.slice(1)).replace(/:animating/g,Ze),[n,e]}function Ns(n){return n?P({},n):null}var Jt=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Ms(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Os(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Fe(n,e).duration;return Kt(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Kt(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Fe(t,e);return Kt(r.duration,r.delay,r.easing)}function he(n){return n?(n=P({},n),n.params&&(n.params=Ns(n.params))):n={},n}function Kt(n,e,t){return{duration:n,delay:e,easing:t}}function cn(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var xe=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},ks=1,Rs=":enter",Ls=new RegExp(Rs,"g"),Fs=":leave",Bs=new RegExp(Fs,"g");function rr(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new Xt().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var Xt=class{buildKeyframes(e,t,i,r,s,o,a,l,c,f=[]){c=c||new xe;let u=new Zt(e,t,c,r,s,f,[]);u.options=l;let h=l.delay?Y(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([o],null,u.errors,l),F(this,i,u);let g=u.timelines.filter(p=>p.containsAnimation());if(g.length&&a.size){let p;for(let _=g.length-1;_>=0;_--){let v=g[_];if(v.element===t){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return g.length?g.map(p=>p.buildKeyframes()):[cn(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Y(Ie(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Y(i.duration):null,a=i.delay!=null?Y(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),F(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==E.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lt);let o=Y(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>F(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Y(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),F(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Ie(i,t.params,t.errors):i;return Fe(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==E.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Y(r.delay):0;s&&(t.previousNode.type===E.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lt);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{t.currentQueryIndex=f;let u=t.createSubContext(e.options,c);s&&u.delayNextStep(s),c===t.element&&(l=u.currentTimeline),F(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let h=u.currentTimeline.currentTime;o=Math.max(o,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let f=t.currentTimeline;l&&f.delayNextStep(l);let u=f.currentTime;F(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}},lt={},Zt=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=lt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new ct(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Y(i.duration)),i.delay!=null&&(r.delay=Y(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ie(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=lt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new en(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Ls,"."+this._enterClassName),e=e.replace(Bs,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(Ci(t)),a}},ct=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ks,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||j),this._currentKeyframe.set(t,j);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=xs(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Ie(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??j),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,u)=>{f===ke?e.add(u):f===j&&t.add(u)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return cn(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},en=class extends ct{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",Gi(a)),s.push(c);let f=e.length-1;for(let u=1;u<=f;u++){let h=new Map(e[u]),g=h.get("offset"),p=t+g*i;h.set("offset",Gi(p/o)),s.push(h)}i=o,t=0,r="",e=s}return cn(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function Gi(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function xs(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,j)}else for(let[s,o]of r)t.set(s,o)}),t}function Qi(n,e,t,i,r,s,o,a,l,c,f,u,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:u,errors:h}}var Ht={},ut=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return $s(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,f){let u=[],h=this.ast.options&&this.ast.options.params||Ht,g=a&&a.params||Ht,p=this.buildStyles(i,g,u),_=l&&l.params||Ht,v=this.buildStyles(r,_,u),I=new Set,C=new Map,O=new Map,N=r==="void",Ee={params:sr(_,h),delay:this.ast.options?.delay},G=f?[]:rr(e,t,this.ast.animation,s,o,p,v,Ee,c,u),k=0;return G.forEach(R=>{k=Math.max(R.duration+R.delay,k)}),u.length?Qi(t,this._triggerName,i,r,N,p,v,[],[],C,O,k,u):(G.forEach(R=>{let le=R.element,we=L(C,le,new Set);R.preStyleProps.forEach(ce=>we.add(ce));let Kn=L(O,le,new Set);R.postStyleProps.forEach(ce=>Kn.add(ce)),le!==t&&I.add(le)}),Qi(t,this._triggerName,i,r,N,p,v,G,[...I.values()],C,O,k))}};function $s(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function sr(n,e){let t=P({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var tn=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=sr(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Ie(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function zs(n,e,t){return new nn(n,e,t)}var nn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new tn(r.style,s,i))}),Yi(this.states,"true","1"),Yi(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new ut(e,r,this.states))}),this.fallbackTransition=Vs(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function Vs(n,e,t){let i=[(o,a)=>!0],r={type:E.Sequence,steps:[],options:null},s={type:E.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new ut(n,s,e)}function Yi(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Us=new xe,rn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],s=ir(this._driver,t,i,r);if(i.length)throw Mi(i);this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=Bt(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=rr(this._driver,t,s,Ut,Xe,new Map,new Map,i,Us,r),o.forEach(f=>{let u=L(a,f.element,new Map);f.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(Oi()),o=[]),r.length)throw ki(r);a.forEach((f,u)=>{f.forEach((h,g)=>{f.set(g,this._driver.computeStyle(u,g,j))})});let l=o.map(f=>{let u=a.get(f.element);return this._buildPlayer(f,new Map,u)}),c=Z(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ri(e);return t}listen(e,t,i,r){let s=Ye(t,"","","");return Qe(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Ji="ng-animate-queued",js=".ng-animate-queued",Wt="ng-animate-disabled",qs=".ng-animate-disabled",Ks="ng-star-inserted",Hs=".ng-star-inserted",Ws=[],or={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},K="__ng_removed",$e=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Ys(r),i){let s=e,{value:o}=s,a=Qn(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Be="void",Gt=new $e(Be),sn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,U(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw Li(i,t);if(i==null||i.length==0)throw Fi(t);if(!Js(i))throw Bi(i,t);let s=L(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=L(this._engine.statesByElement,e,new Map);return a.has(t)||(U(e,Re),U(e,Re+"-"+t),a.set(t,Gt)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw xi(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new ze(this.id,t,e),a=this._engine.statesByElement.get(e);a||(U(e,Re),U(e,Re+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new $e(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Gt),!(c.value===Be)&&l.value===c.value){if(!eo(l.params,c.params)){let _=[],v=s.matchStyles(l.value,l.params,_),I=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{oe(e,v),q(e,I)})}return}let h=L(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let g=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!g){if(!r)return;g=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(U(e,Ji),o.onStart(()=>{Ce(e,Ji)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);let v=this._engine.playersByElement.get(e);if(v){let I=v.indexOf(o);I>=0&&v.splice(I,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Le,!0);i.forEach(r=>{if(r[K])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let f=this.trigger(e,c,Be,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Z(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||Gt,f=new $e(Be),u=new ze(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:f,player:u,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[K];(!s||s===or)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){U(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=Ye(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Qe(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},on=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new sn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(rt(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!rt(t))return;let s=t[K];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),U(e,Wt)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ce(e,Wt))}removeNode(e,t,i){if(rt(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[K]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return rt(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Le,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Ze,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Z(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[K];if(t&&t.setForRemoval){if(e[K]=or,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Wt)&&this.markElementAsDisabled(e,!1),this.driver.query(e,qs,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];U(r,Ks)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Z(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw $i(e)}_flushAnimations(e,t){let i=new xe,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(d=>{f.add(d);let m=this.driver.query(d,js,!0);for(let y=0;y<m.length;y++)f.add(m[y])});let u=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=er(h,this.collectedEnterElements),p=new Map,_=0;g.forEach((d,m)=>{let y=Ut+_++;p.set(m,y),d.forEach(w=>U(w,y))});let v=[],I=new Set,C=new Set;for(let d=0;d<this.collectedLeaveElements.length;d++){let m=this.collectedLeaveElements[d],y=m[K];y&&y.setForRemoval&&(v.push(m),I.add(m),y.hasAnimation?this.driver.query(m,Hs,!0).forEach(w=>I.add(w)):C.add(m))}let O=new Map,N=er(h,Array.from(I));N.forEach((d,m)=>{let y=Xe+_++;O.set(m,y),d.forEach(w=>U(w,y))}),e.push(()=>{g.forEach((d,m)=>{let y=p.get(m);d.forEach(w=>Ce(w,y))}),N.forEach((d,m)=>{let y=O.get(m);d.forEach(w=>Ce(w,y))}),v.forEach(d=>{this.processLeaveNode(d)})});let Ee=[],G=[];for(let d=this._namespaceList.length-1;d>=0;d--)this._namespaceList[d].drainQueuedTransitions(t).forEach(y=>{let w=y.player,D=y.element;if(Ee.push(w),this.collectedEnterElements.length){let M=D[K];if(M&&M.setForMove){if(M.previousTriggersValues&&M.previousTriggersValues.has(y.triggerName)){let ue=M.previousTriggersValues.get(y.triggerName),V=this.statesByElement.get(y.element);if(V&&V.has(y.triggerName)){let je=V.get(y.triggerName);je.value=ue,V.set(y.triggerName,je)}}w.destroy();return}}let Q=!u||!this.driver.containsElement(u,D),x=O.get(D),ie=p.get(D),A=this._buildInstruction(y,i,ie,x,Q);if(A.errors&&A.errors.length){G.push(A);return}if(Q){w.onStart(()=>oe(D,A.fromStyles)),w.onDestroy(()=>q(D,A.toStyles)),r.push(w);return}if(y.isFallbackTransition){w.onStart(()=>oe(D,A.fromStyles)),w.onDestroy(()=>q(D,A.toStyles)),r.push(w);return}let Gn=[];A.timelines.forEach(M=>{M.stretchStartingKeyframe=!0,this.disabledNodes.has(M.element)||Gn.push(M)}),A.timelines=Gn,i.append(D,A.timelines);let cs={instruction:A,player:w,element:D};o.push(cs),A.queriedElements.forEach(M=>L(a,M,[]).push(w)),A.preStyleProps.forEach((M,ue)=>{if(M.size){let V=l.get(ue);V||l.set(ue,V=new Set),M.forEach((je,Nt)=>V.add(Nt))}}),A.postStyleProps.forEach((M,ue)=>{let V=c.get(ue);V||c.set(ue,V=new Set),M.forEach((je,Nt)=>V.add(Nt))})});if(G.length){let d=[];G.forEach(m=>{d.push(zi(m.triggerName,m.errors))}),Ee.forEach(m=>m.destroy()),this.reportError(d)}let k=new Map,R=new Map;o.forEach(d=>{let m=d.element;i.has(m)&&(R.set(m,m),this._beforeAnimationBuild(d.player.namespaceId,d.instruction,k))}),r.forEach(d=>{let m=d.element;this._getPreviousPlayers(m,!1,d.namespaceId,d.triggerName,null).forEach(w=>{L(k,m,[]).push(w),w.destroy()})});let le=v.filter(d=>tr(d,l,c)),we=new Map;Zi(we,this.driver,C,c,j).forEach(d=>{tr(d,l,c)&&le.push(d)});let ce=new Map;g.forEach((d,m)=>{Zi(ce,this.driver,new Set(d),l,ke)}),le.forEach(d=>{let m=we.get(d),y=ce.get(d);we.set(d,new Map([...m?.entries()??[],...y?.entries()??[]]))});let Pt=[],Hn=[],Wn={};o.forEach(d=>{let{element:m,player:y,instruction:w}=d;if(i.has(m)){if(f.has(m)){y.onDestroy(()=>q(m,w.toStyles)),y.disabled=!0,y.overrideTotalTime(w.totalTime),r.push(y);return}let D=Wn;if(R.size>1){let x=m,ie=[];for(;x=x.parentNode;){let A=R.get(x);if(A){D=A;break}ie.push(x)}ie.forEach(A=>R.set(A,D))}let Q=this._buildAnimation(y.namespaceId,w,k,s,ce,we);if(y.setRealPlayer(Q),D===Wn)Pt.push(y);else{let x=this.playersByElement.get(D);x&&x.length&&(y.parentPlayer=Z(x)),r.push(y)}}else oe(m,w.fromStyles),y.onDestroy(()=>q(m,w.toStyles)),Hn.push(y),f.has(m)&&r.push(y)}),Hn.forEach(d=>{let m=s.get(d.element);if(m&&m.length){let y=Z(m);d.setRealPlayer(y)}}),r.forEach(d=>{d.parentPlayer?d.syncPlayerEvents(d.parentPlayer):d.destroy()});for(let d=0;d<v.length;d++){let m=v[d],y=m[K];if(Ce(m,Xe),y&&y.hasAnimation)continue;let w=[];if(a.size){let Q=a.get(m);Q&&Q.length&&w.push(...Q);let x=this.driver.query(m,Ze,!0);for(let ie=0;ie<x.length;ie++){let A=a.get(x[ie]);A&&A.length&&w.push(...A)}}let D=w.filter(Q=>!Q.destroyed);D.length?Xs(this,m,D):this.processLeaveNode(m)}return v.length=0,Pt.forEach(d=>{this.players.push(d),d.onDone(()=>{d.destroy();let m=this.players.indexOf(d);this.players.splice(m,1)}),d.play()}),Pt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Be;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,f=c!==s,u=L(i,c,[]);this._getPreviousPlayers(c,f,o,a,t.toState).forEach(g=>{let p=g.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),g.destroy(),u.push(g)})}oe(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],f=new Set,u=new Set,h=t.timelines.map(p=>{let _=p.element;f.add(_);let v=_[K];if(v&&v.removedBeforeQueried)return new fe(p.duration,p.delay);let I=_!==l,C=Zs((i.get(_)||Ws).map(k=>k.getRealPlayer())).filter(k=>{let R=k;return R.element?R.element===_:!1}),O=s.get(_),N=o.get(_),Ee=Bt(this._normalizer,p.keyframes,O,N),G=this._buildPlayer(p,Ee,C);if(p.subTimeline&&r&&u.add(_),I){let k=new ze(e,a,_);k.setRealPlayer(G),c.push(k)}return G});c.forEach(p=>{L(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>Qs(this.playersByQueriedElement,p.element,p))}),f.forEach(p=>U(p,jt));let g=Z(h);return g.onDestroy(()=>{f.forEach(p=>Ce(p,jt)),q(l,t.toStyles)}),u.forEach(p=>{L(r,p,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new fe(e.duration,e.delay)}},ze=class{namespaceId;triggerName;element;_player=new fe;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Qe(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){L(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Qs(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Ys(n){return n??null}function rt(n){return n&&n.nodeType===1}function Js(n){return n=="start"||n=="done"}function Xi(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Zi(n,e,t,i,r){let s=[];t.forEach(l=>s.push(Xi(l)));let o=[];i.forEach((l,c)=>{let f=new Map;l.forEach(u=>{let h=e.computeStyle(c,u,r);f.set(u,h),(!h||h.length==0)&&(c[K]=Gs,o.push(c))}),n.set(c,f)});let a=0;return t.forEach(l=>Xi(l,s[a++])),o}function er(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function U(n,e){n.classList?.add(e)}function Ce(n,e){n.classList?.remove(e)}function Xs(n,e,t){Z(t).onDone(()=>n.processLeaveNode(e))}function Zs(n){let e=[];return ar(n,e),e}function ar(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof He?ar(i.players,e):e.push(i)}}function eo(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function tr(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var De=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new on(e.body,t,i),this._timelineEngine=new rn(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],f=ir(this._driver,s,l,c);if(l.length)throw Ni(r,l);a=zs(r,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=xt(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=xt(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function to(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Qt(e[0]),e.length>1&&(i=Qt(e[e.length-1]))):e instanceof Map&&(t=Qt(e)),t||i?new no(n,t,i):null}var no=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&q(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(q(this._element,this._initialStyles),this._endStyles&&(q(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(oe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(oe(this._element,this._endStyles),this._endStyles=null),q(this._element,this._initialStyles),this._state=3)}}return n})();function Qt(n){let e=null;return n.forEach((t,i)=>{io(i)&&(e=e||new Map,e.set(i,t))}),e}function io(n){return n==="display"||n==="position"}var ft=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:tt(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},dt=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return $t(e,t)}getParentElement(e){return Je(e)}query(e,t,i){return zt(e,t,i)}computeStyle(e,t,i){return tt(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,f=o.filter(g=>g instanceof ft);qi(i,r)&&f.forEach(g=>{g.currentSnapshot.forEach((p,_)=>c.set(_,p))});let u=Ui(t).map(g=>new Map(g));u=Ki(e,u,c);let h=to(e,u);return new ft(e,u,l,h)}};var st="@",lr="@.disabled",ht=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==st&&t==lr?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},an=class extends ht{factory;constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==st?t.charAt(1)=="."&&t==lr?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==st){let s=ro(e),o=t.slice(1),a="";return o.charAt(0)!=st&&([o,a]=so(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(e,t,i,r)}};function ro(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function so(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var pt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,f=c.get(r);if(!f){let u=()=>c.delete(r);f=new ht(i,r,this.engine,u),c.set(r,f)}return f}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new an(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var ao=(()=>{class n extends De{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(qe(ni),qe(pe),qe(me))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})();function lo(){return new ot}function co(n,e,t){return new pt(n,e,t)}var ur=[{provide:me,useFactory:lo},{provide:De,useClass:ao},{provide:Jn,useFactory:co,deps:[ii,De,Yn]}],uo=[{provide:pe,useClass:ln},{provide:Mt,useValue:"NoopAnimations"},...ur],cr=[{provide:pe,useFactory:()=>new dt},{provide:Mt,useFactory:()=>"BrowserAnimations"},...ur],fr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?uo:cr}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({providers:cr,imports:[Ke]})}return n})();var dr=()=>{};var pr=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},fo=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,f=s>>2,u=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(h=64)),i.push(t[f],t[u],t[h],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pr(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fo(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let u=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||u==null)throw new un;let h=s<<2|a>>4;if(i.push(h),c!==64){let g=a<<4&240|c>>2;if(i.push(g),u!==64){let p=c<<6&192|u;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},un=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ho=function(n){let e=pr(n);return mr.encodeByteArray(e,!0)},fn=function(n){return ho(n).replace(/\./g,"")},gr=function(n){try{return mr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function po(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mo=()=>po().__FIREBASE_DEFAULTS__,go=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yo=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&gr(n[1]);return e&&JSON.parse(e)},_o=()=>{try{return dr()||mo()||go()||yo()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var dn=()=>_o()?.config;var mt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function yr(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gt(){try{return typeof indexedDB=="object"}catch{return!1}}function yt(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}function _r(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var bo="FirebaseError",H=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bo,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}},ee=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Eo(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new H(r,a,i)}};function Eo(n,e){return n.replace(wo,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var wo=/\{\$([^}]+)}/g;function Pe(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(hr(s)&&hr(o)){if(!Pe(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function hr(n){return n!==null&&typeof n=="object"}var So=1e3,vo=2,To=4*60*60*1e3,Ao=.5;function hn(n,e=So,t=vo){let i=e*Math.pow(t,n),r=Math.round(Ao*i*(Math.random()-.5)*2);return Math.min(To,i+r)}function pn(n){return n&&n._delegate?n._delegate:n}var $=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ge="[DEFAULT]";var mn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new mt;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Co(e))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ge){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ge){return this.instances.has(e)}getOptions(e=ge){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){let i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);let s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Io(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ge){return this.component?this.component.multipleInstances?e:ge:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Io(n){return n===ge?void 0:n}function Co(n){return n.instantiationMode==="EAGER"}var _t=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Do=[],T=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(T||{}),Po={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},No=T.INFO,Mo={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},Oo=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Mo[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ne=class{constructor(e){this.name=e,this._logLevel=No,this._logHandler=Oo,this._userLogHandler=null,Do.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in T))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Po[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...e),this._logHandler(this,T.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...e),this._logHandler(this,T.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,T.INFO,...e),this._logHandler(this,T.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,T.WARN,...e),this._logHandler(this,T.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...e),this._logHandler(this,T.ERROR,...e)}};var ko=(n,e)=>e.some(t=>n instanceof t),br,Er;function Ro(){return br||(br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lo(){return Er||(Er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wr=new WeakMap,yn=new WeakMap,Sr=new WeakMap,gn=new WeakMap,bn=new WeakMap;function Fo(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(J(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&wr.set(t,n)}).catch(()=>{}),bn.set(e,n),e}function Bo(n){if(yn.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});yn.set(n,e)}var _n={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yn.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Sr.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return J(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vr(n){_n=n(_n)}function xo(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(bt(this),e,...t);return Sr.set(i,e.sort?e.sort():[e]),J(i)}:Lo().includes(n)?function(...e){return n.apply(bt(this),e),J(wr.get(this))}:function(...e){return J(n.apply(bt(this),e))}}function $o(n){return typeof n=="function"?xo(n):(n instanceof IDBTransaction&&Bo(n),ko(n,Ro())?new Proxy(n,_n):n)}function J(n){if(n instanceof IDBRequest)return Fo(n);if(gn.has(n))return gn.get(n);let e=$o(n);return e!==n&&(gn.set(n,e),bn.set(e,n)),e}var bt=n=>bn.get(n);function Et(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=J(o);return i&&o.addEventListener("upgradeneeded",l=>{i(J(o.result),l.oldVersion,l.newVersion,J(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var zo=["get","getKey","getAll","getAllKeys","count"],Vo=["put","add","delete","clear"],En=new Map;function Tr(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(En.get(e))return En.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Vo.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||zo.includes(t)))return;let s=function(o,...a){return b(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return En.set(e,s),s}vr(n=>X(P({},n),{get:(e,t,i)=>Tr(e,t)||n.get(e,t,i),has:(e,t)=>!!Tr(e,t)||n.has(e,t)}));var Sn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uo(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Uo(n){return n.getComponent()?.type==="VERSION"}var vn="@firebase/app",Ar="0.14.2";var te=new Ne("@firebase/app"),jo="@firebase/app-compat",qo="@firebase/analytics-compat",Ko="@firebase/analytics",Ho="@firebase/app-check-compat",Wo="@firebase/app-check",Go="@firebase/auth",Qo="@firebase/auth-compat",Yo="@firebase/database",Jo="@firebase/data-connect",Xo="@firebase/database-compat",Zo="@firebase/functions",ea="@firebase/functions-compat",ta="@firebase/installations",na="@firebase/installations-compat",ia="@firebase/messaging",ra="@firebase/messaging-compat",sa="@firebase/performance",oa="@firebase/performance-compat",aa="@firebase/remote-config",la="@firebase/remote-config-compat",ca="@firebase/storage",ua="@firebase/storage-compat",fa="@firebase/firestore",da="@firebase/ai",ha="@firebase/firestore-compat",pa="firebase";var Tn="[DEFAULT]",ma={[vn]:"fire-core",[jo]:"fire-core-compat",[Ko]:"fire-analytics",[qo]:"fire-analytics-compat",[Wo]:"fire-app-check",[Ho]:"fire-app-check-compat",[Go]:"fire-auth",[Qo]:"fire-auth-compat",[Yo]:"fire-rtdb",[Jo]:"fire-data-connect",[Xo]:"fire-rtdb-compat",[Zo]:"fire-fn",[ea]:"fire-fn-compat",[ta]:"fire-iid",[na]:"fire-iid-compat",[ia]:"fire-fcm",[ra]:"fire-fcm-compat",[sa]:"fire-perf",[oa]:"fire-perf-compat",[aa]:"fire-rc",[la]:"fire-rc-compat",[ca]:"fire-gcs",[ua]:"fire-gcs-compat",[fa]:"fire-fst",[ha]:"fire-fst-compat",[da]:"fire-vertex","fire-js":"fire-js",[pa]:"fire-js-all"};var wt=new Map,ga=new Map,An=new Map;function Ir(n,e){try{n.container.addComponent(e)}catch(t){te.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ne(n){let e=n.name;if(An.has(e))return te.debug(`There were multiple attempts to register component ${e}.`),!1;An.set(e,n);for(let t of wt.values())Ir(t,n);for(let t of ga.values())Ir(t,n);return!0}function Me(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var ya={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ae=new ee("app","Firebase",ya);var In=class{constructor(e,t,i){this._isDeleted=!1,this._options=P({},e),this._config=P({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ae.create("app-deleted",{appName:this._name})}};function Pn(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=P({name:Tn,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw ae.create("bad-app-name",{appName:String(r)});if(t||(t=dn()),!t)throw ae.create("no-options");let s=wt.get(r);if(s){if(Pe(t,s.options)&&Pe(i,s.config))return s;throw ae.create("duplicate-app",{appName:r})}let o=new _t(r);for(let l of An.values())o.addComponent(l);let a=new In(t,i,o);return wt.set(r,a),a}function Nn(n=Tn){let e=wt.get(n);if(!e&&n===Tn&&dn())return Pn();if(!e)throw ae.create("no-app",{appName:n});return e}function W(n,e,t){let i=ma[n]??n;t&&(i+=`-${t}`);let r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){let o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),te.warn(o.join(" "));return}ne(new $(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _a="firebase-heartbeat-database",ba=1,Ve="firebase-heartbeat-store",wn=null;function Nr(){return wn||(wn=Et(_a,ba,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ve)}catch(t){console.warn(t)}}}}).catch(n=>{throw ae.create("idb-open",{originalErrorMessage:n.message})})),wn}function Ea(n){return b(this,null,function*(){try{let t=(yield Nr()).transaction(Ve),i=yield t.objectStore(Ve).get(Mr(n));return yield t.done,i}catch(e){if(e instanceof H)te.warn(e.message);else{let t=ae.create("idb-get",{originalErrorMessage:e?.message});te.warn(t.message)}}})}function Cr(n,e){return b(this,null,function*(){try{let i=(yield Nr()).transaction(Ve,"readwrite");yield i.objectStore(Ve).put(e,Mr(n)),yield i.done}catch(t){if(t instanceof H)te.warn(t.message);else{let i=ae.create("idb-set",{originalErrorMessage:t?.message});te.warn(i.message)}}})}function Mr(n){return`${n.name}!${n.options.appId}`}var wa=1024,Sa=30,Cn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Dn(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return b(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Sa){let r=Ta(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){te.warn(e)}})}getHeartbeatsHeader(){return b(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Dr(),{heartbeatsToSend:t,unsentEntries:i}=va(this._heartbeatsCache.heartbeats),r=fn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return te.warn(e),""}})}};function Dr(){return new Date().toISOString().substring(0,10)}function va(n,e=wa){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Pr(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Pr(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Dn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return gt()?yt().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Ea(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Pr(n){return fn(JSON.stringify({version:2,heartbeats:n})).length}function Ta(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function Aa(n){ne(new $("platform-logger",e=>new Sn(e),"PRIVATE")),ne(new $("heartbeat",e=>new Cn(e),"PRIVATE")),W(vn,Ar,n),W(vn,Ar,"esm2020"),W("fire-js","")}Aa("");var Ia="firebase",Ca="12.2.1";W(Ia,Ca,"app");var Rr="@firebase/installations",Rn="0.6.19";var Lr=1e4,Fr=`w:${Rn}`,Br="FIS_v2",Da="https://firebaseinstallations.googleapis.com/v1",Pa=60*60*1e3,Na="installations",Ma="Installations";var Oa={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_e=new ee(Na,Ma,Oa);function xr(n){return n instanceof H&&n.code.includes("request-failed")}function $r({projectId:n}){return`${Da}/projects/${n}/installations`}function zr(n){return{token:n.token,requestStatus:2,expiresIn:Ra(n.expiresIn),creationTime:Date.now()}}function Vr(n,e){return b(this,null,function*(){let i=(yield e.json()).error;return _e.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function Ur({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function ka(n,{refreshToken:e}){let t=Ur(n);return t.append("Authorization",La(e)),t}function jr(n){return b(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Ra(n){return Number(n.replace("s","000"))}function La(n){return`${Br} ${n}`}function Fa(i,r){return b(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let s=$r(n),o=Ur(n),a=e.getImmediate({optional:!0});if(a){let u=yield a.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}let l={fid:t,authVersion:Br,appId:n.appId,sdkVersion:Fr},c={method:"POST",headers:o,body:JSON.stringify(l)},f=yield jr(()=>fetch(s,c));if(f.ok){let u=yield f.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:zr(u.authToken)}}else throw yield Vr("Create Installation",f)})}function qr(n){return new Promise(e=>{setTimeout(e,n)})}function Ba(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var xa=/^[cdef][\w-]{21}$/,kn="";function $a(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=za(n);return xa.test(t)?t:kn}catch{return kn}}function za(n){return Ba(n).substr(0,22)}function vt(n){return`${n.appName}!${n.appId}`}var Kr=new Map;function Hr(n,e){let t=vt(n);Wr(t,e),Va(t,e)}function Wr(n,e){let t=Kr.get(n);if(t)for(let i of t)i(e)}function Va(n,e){let t=Ua();t&&t.postMessage({key:n,fid:e}),ja()}var ye=null;function Ua(){return!ye&&"BroadcastChannel"in self&&(ye=new BroadcastChannel("[Firebase] FID Change"),ye.onmessage=n=>{Wr(n.data.key,n.data.fid)}),ye}function ja(){Kr.size===0&&ye&&(ye.close(),ye=null)}var qa="firebase-installations-database",Ka=1,be="firebase-installations-store",Mn=null;function Ln(){return Mn||(Mn=Et(qa,Ka,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(be)}}})),Mn}function St(n,e){return b(this,null,function*(){let t=vt(n),r=(yield Ln()).transaction(be,"readwrite"),s=r.objectStore(be),o=yield s.get(t);return yield s.put(e,t),yield r.done,(!o||o.fid!==e.fid)&&Hr(n,e.fid),e})}function Gr(n){return b(this,null,function*(){let e=vt(n),i=(yield Ln()).transaction(be,"readwrite");yield i.objectStore(be).delete(e),yield i.done})}function Tt(n,e){return b(this,null,function*(){let t=vt(n),r=(yield Ln()).transaction(be,"readwrite"),s=r.objectStore(be),o=yield s.get(t),a=e(o);return a===void 0?yield s.delete(t):yield s.put(a,t),yield r.done,a&&(!o||o.fid!==a.fid)&&Hr(n,a.fid),a})}function Fn(n){return b(this,null,function*(){let e,t=yield Tt(n.appConfig,i=>{let r=Ha(i),s=Wa(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===kn?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Ha(n){let e=n||{fid:$a(),registrationStatus:0};return Qr(e)}function Wa(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(_e.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Ga(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Qa(n)}:{installationEntry:e}}function Ga(n,e){return b(this,null,function*(){try{let t=yield Fa(n,e);return St(n.appConfig,t)}catch(t){throw xr(t)&&t.customData.serverCode===409?yield Gr(n.appConfig):yield St(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function Qa(n){return b(this,null,function*(){let e=yield Or(n.appConfig);for(;e.registrationStatus===1;)yield qr(100),e=yield Or(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:i}=yield Fn(n);return i||t}return e})}function Or(n){return Tt(n,e=>{if(!e)throw _e.create("installation-not-found");return Qr(e)})}function Qr(n){return Ya(n)?{fid:n.fid,registrationStatus:0}:n}function Ya(n){return n.registrationStatus===1&&n.registrationTime+Lr<Date.now()}function Ja(i,r){return b(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let s=Xa(n,t),o=ka(n,t),a=e.getImmediate({optional:!0});if(a){let u=yield a.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}let l={installation:{sdkVersion:Fr,appId:n.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},f=yield jr(()=>fetch(s,c));if(f.ok){let u=yield f.json();return zr(u)}else throw yield Vr("Generate Auth Token",f)})}function Xa(n,{fid:e}){return`${$r(n)}/${e}/authTokens:generate`}function Bn(n,e=!1){return b(this,null,function*(){let t,i=yield Tt(n.appConfig,s=>{if(!Yr(s))throw _e.create("not-registered");let o=s.authToken;if(!e&&tl(o))return s;if(o.requestStatus===1)return t=Za(n,e),s;{if(!navigator.onLine)throw _e.create("app-offline");let a=il(s);return t=el(n,a),a}});return t?yield t:i.authToken})}function Za(n,e){return b(this,null,function*(){let t=yield kr(n.appConfig);for(;t.authToken.requestStatus===1;)yield qr(100),t=yield kr(n.appConfig);let i=t.authToken;return i.requestStatus===0?Bn(n,e):i})}function kr(n){return Tt(n,e=>{if(!Yr(e))throw _e.create("not-registered");let t=e.authToken;return rl(t)?X(P({},e),{authToken:{requestStatus:0}}):e})}function el(n,e){return b(this,null,function*(){try{let t=yield Ja(n,e),i=X(P({},e),{authToken:t});return yield St(n.appConfig,i),t}catch(t){if(xr(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield Gr(n.appConfig);else{let i=X(P({},e),{authToken:{requestStatus:0}});yield St(n.appConfig,i)}throw t}})}function Yr(n){return n!==void 0&&n.registrationStatus===2}function tl(n){return n.requestStatus===2&&!nl(n)}function nl(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Pa}function il(n){let e={requestStatus:1,requestTime:Date.now()};return X(P({},n),{authToken:e})}function rl(n){return n.requestStatus===1&&n.requestTime+Lr<Date.now()}function sl(n){return b(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:i}=yield Fn(e);return i?i.catch(console.error):Bn(e).catch(console.error),t.fid})}function ol(n,e=!1){return b(this,null,function*(){let t=n;return yield al(t),(yield Bn(t,e)).token})}function al(n){return b(this,null,function*(){let{registrationPromise:e}=yield Fn(n);e&&(yield e)})}function ll(n){if(!n||!n.options)throw On("App Configuration");if(!n.name)throw On("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw On(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function On(n){return _e.create("missing-app-config-values",{valueName:n})}var Jr="installations",cl="installations-internal",ul=n=>{let e=n.getProvider("app").getImmediate(),t=ll(e),i=Me(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},fl=n=>{let e=n.getProvider("app").getImmediate(),t=Me(e,Jr).getImmediate();return{getId:()=>sl(t),getToken:r=>ol(t,r)}};function dl(){ne(new $(Jr,ul,"PUBLIC")),ne(new $(cl,fl,"PRIVATE"))}dl();W(Rr,Rn);W(Rr,Rn,"esm2020");var At="analytics",hl="firebase_id",pl="origin",ml=60*1e3,gl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qn="https://www.googletagmanager.com/gtag/js";var B=new Ne("@firebase/analytics");var yl={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},z=new ee("analytics","Analytics",yl);function _l(n){if(!n.startsWith(qn)){let e=z.create("invalid-gtag-resource",{gtagURL:n});return B.warn(e.message),""}return n}function rs(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function bl(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function El(n,e){let t=bl("firebase-js-sdk-policy",{createScriptURL:_l}),i=document.createElement("script"),r=`${qn}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function wl(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function Sl(n,e,t,i,r,s){return b(this,null,function*(){let o=i[r];try{if(o)yield e[o];else{let l=(yield rs(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){B.error(a)}n("config",r,s)})}function vl(n,e,t,i,r){return b(this,null,function*(){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);let a=yield rs(t);for(let l of o){let c=a.find(u=>u.measurementId===l),f=c&&e[c.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){B.error(s)}})}function Tl(n,e,t,i){function r(s,...o){return b(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield vl(n,e,t,a,l)}else if(s==="config"){let[a,l]=o;yield Sl(n,e,t,i,a,l)}else if(s==="consent"){let[a,l]=o;n("consent",a,l)}else if(s==="get"){let[a,l,c]=o;n("get",a,l,c)}else if(s==="set"){let[a]=o;n("set",a)}else n(s,...o)}catch(a){B.error(a)}})}return r}function Al(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Tl(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function Il(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(qn)&&t.src.includes(n))return t;return null}var Cl=30,Dl=1e3,$n=class{constructor(e={},t=Dl){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},ss=new $n;function Pl(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Nl(n){return b(this,null,function*(){let{appId:e,apiKey:t}=n,i={method:"GET",headers:Pl(t)},r=gl.replace("{app-id}",e),s=yield fetch(r,i);if(s.status!==200&&s.status!==304){let o="";try{let a=yield s.json();a.error?.message&&(o=a.error.message)}catch{}throw z.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()})}function Ml(i){return b(this,arguments,function*(n,e=ss,t){let{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw z.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw z.create("no-api-key")}let a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new zn;return setTimeout(()=>b(null,null,function*(){l.abort()}),t!==void 0?t:ml),os({appId:r,apiKey:s,measurementId:o},a,l,e)})}function os(s,o,a){return b(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=ss){let{appId:l,measurementId:c}=n;try{yield Ol(i,e)}catch(f){if(c)return B.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{let f=yield Nl(n);return r.deleteThrottleMetadata(l),f}catch(f){let u=f;if(!kl(u)){if(r.deleteThrottleMetadata(l),c)return B.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:l,measurementId:c};throw f}let h=Number(u?.customData?.httpStatus)===503?hn(t,r.intervalMillis,Cl):hn(t,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return r.setThrottleMetadata(l,g),B.debug(`Calling attemptFetch again in ${h} millis`),os(n,g,i,r)}})}function Ol(n,e){return new Promise((t,i)=>{let r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(z.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kl(n){if(!(n instanceof H)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var zn=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Vn;function Rl(n,e,t,i,r){return b(this,null,function*(){if(r&&r.global){n("event",t,i);return}else{let s=yield e,o=X(P({},i),{send_to:s});n("event",t,o)}})}var Un;function Ll(n){Un=n}function Fl(n){Vn=n}function Bl(){return b(this,null,function*(){if(gt())try{yield yt()}catch(n){return B.warn(z.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return B.warn(z.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function xl(n,e,t,i,r,s,o){return b(this,null,function*(){let a=Ml(n);a.then(h=>{t[h.measurementId]=h.appId,n.options.measurementId&&h.measurementId!==n.options.measurementId&&B.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>B.error(h)),e.push(a);let l=Bl().then(h=>{if(h)return i.getId()}),[c,f]=yield Promise.all([a,l]);Il(s)||El(s,c.measurementId),Un&&(r("consent","default",Un),Ll(void 0)),r("js",new Date);let u=o?.config??{};return u[pl]="firebase",u.update=!0,f!=null&&(u[hl]=f),r("config",c.measurementId,u),Vn&&(r("set",Vn),Fl(void 0)),c.measurementId})}var jn=class{constructor(e){this.app=e}_delete(){return delete Ue[this.app.options.appId],Promise.resolve()}},Ue={},Xr=[],Zr={},xn="dataLayer",$l="gtag",es,as,ts=!1;function zl(){let n=[];if(yr()&&n.push("This is a browser extension environment."),_r()||n.push("Cookies are not available."),n.length>0){let e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=z.create("invalid-analytics-context",{errorInfo:e});B.warn(t.message)}}function Vl(n,e,t){zl();let i=n.options.appId;if(!i)throw z.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)B.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw z.create("no-api-key");if(Ue[i]!=null)throw z.create("already-exists",{id:i});if(!ts){wl(xn);let{wrappedGtag:s,gtagCore:o}=Al(Ue,Xr,Zr,xn,$l);as=s,es=o,ts=!0}return Ue[i]=xl(n,Xr,Zr,e,es,xn,t),new jn(n)}function ls(n=Nn()){n=pn(n);let e=Me(n,At);return e.isInitialized()?e.getImmediate():Ul(n)}function Ul(n,e={}){let t=Me(n,At);if(t.isInitialized()){let r=t.getImmediate();if(Pe(e,t.getOptions()))return r;throw z.create("already-initialized")}return t.initialize({options:e})}function jl(n,e,t,i){n=pn(n),Rl(as,Ue[n.app.options.appId],e,t,i).catch(r=>B.error(r))}var ns="@firebase/analytics",is="0.10.18";function ql(){ne(new $(At,(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Vl(i,r,t)},"PUBLIC")),ne(new $("analytics-internal",n,"PRIVATE")),W(ns,is),W(ns,is,"esm2020");function n(e){try{let t=e.getProvider(At).getImmediate();return{logEvent:(i,r,s)=>jl(t,i,r,s)}}catch(t){throw z.create("interop-component-reg-failed",{reason:t})}}}ql();var It=class n{subscriptionKey=ve.subscriptionKey;baseUrl=ve.baseUrl;allowedUrls=[this.baseUrl];intercept(e,t){if(this.allowedUrls.some(r=>e.url.startsWith(r))){let r=e.clone({setHeaders:{"Ocp-Apim-Subscription-Key":this.subscriptionKey}});return t.handle(r)}return t.handle(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac})};function Kl(){return new ai({auth:{clientId:ve.clienteId,authority:`https://login.microsoftonline.com/${ve.inquilino}`,redirectUri:"http://localhost:4200"}})}function Hl(n){return()=>n.instance.initialize()}var Ct=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n});static \u0275inj=re({providers:[{provide:ci,useFactory:Kl},Oe,{provide:ei,useFactory:Hl,deps:[Oe],multi:!0},{provide:si,useClass:It,multi:!0},di],imports:[ui]})};var Wl=Pn(hi),Ou=ls(Wl),Dt=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=se({type:n,bootstrap:[We]});static \u0275inj=re({imports:[Ke,Ge,oi,fr,Ct]})};ri().bootstrapModule(Dt,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
